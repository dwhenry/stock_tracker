<nav class="navbar">
  <div class="navbar-brand">
    <%= link_to "StockTracker", root_path, class: "navbar-logo" %>
  </div>

  <% if authenticated? %>
    <div class="navbar-links">
      <%= link_to "Dashboard", root_path, class: "nav-link #{current_page?(root_path) ? 'active' : ''}" %>
      <%= link_to "Customers", customers_path, class: "nav-link #{controller_name == 'customers' || controller_name == 'customer_stocks' || controller_name == 'checkouts' ? 'active' : ''}" %>
      <%= link_to "Accessories", accessories_path, class: "nav-link #{controller_name == 'accessories' ? 'active' : ''}" %>
      <% if current_user&.admin? %>
        <%= link_to "Users", users_path, class: "nav-link #{controller_name == 'users' ? 'active' : ''}" %>
      <% end %>
    </div>

    <div class="navbar-user">
      <div class="user-dropdown" data-controller="dropdown">
        <button type="button" class="user-dropdown-trigger" data-action="click->dropdown#toggle">
          <span class="user-name"><%= current_user&.name %></span>
          <span class="dropdown-arrow">â–¼</span>
        </button>
        <div class="user-dropdown-menu" data-dropdown-target="menu">
          <%= link_to "Change Password", edit_account_path, class: "dropdown-item" %>
          <%= button_to "Logout", session_path, method: :delete, class: "dropdown-item dropdown-item-danger" %>
        </div>
      </div>
    </div>
  <% else %>
    <div class="navbar-links">
      <%= link_to "Login", new_session_path, class: "btn btn-primary" %>
    </div>
  <% end %>
</nav>
